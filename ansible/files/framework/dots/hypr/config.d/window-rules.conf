# See https://wiki.hypr.land/Configuring/Window-Rules/ for more
# See https://wiki.hypr.land/Configuring/Workspace-Rules/ for workspace rules

# Example windowrule
# windowrule = float,class:^(kitty)$,title:^(kitty)$

# Tags
windowrule = tag +browser, match:class ^([Ff]irefox|org.mozilla.firefox|[Ff]irefox-esr|[Ff]irefox-bin|firefox)$
windowrule = tag +terminal, match:class ^(Alacritty|kitty|kitty-dropterm)$
windowrule = tag +video, match:class ^(vlc)$
windowrule = tag +notes, match:class ^(obsidian)$
windowrule = tag +content, match:title (.*)(YouTube|Twitch|Netflix|HiAnime|wallhaven.cc)(.*)
windowrule = tag +utility, match:title ProtonUp-Qt(.*)
windowrule = tag +utility, match:class net.davidotek.pupgui2
windowrule = tag +utility, match:class ^(blueman-manager)$
windowrule = tag +utility, match:title ^(Save Image)$, match:class firefox
windowrule = tag +utility, match:class steam, match:title Steam Settings
windowrule = tag +utility, match:class com.gabm.satty, match:title satty
windowrule = tag +vnc, match:class org.remmina.Remmina
windowrule = tag +steam, match:title Steam
windowrule = tag +steam, match:class steam
windowrule = tag +games, match:class ^steam_app\d+$
windowrule = tag +games, match:class gamescope
windowrule = tag +almostgames, match:class vcmieditor
windowrule = tag +utility, match:class vcmilauncher
windowrule = tag +filemanager, match:class org.kde.dolphin
windowrule = tag +portal, match:class org.freedesktop.impl.portal.desktop.kde
windowrule = tag +portal, match:class xdg-desktop-portal-gtk
windowrule = tag +applauncher, match:class ^(rofi)$
windowrule = tag +reading, match:class ^(calibre-gui)$
windowrule = tag +viewers, match:class ^(calibre-ebook-viewer)$
windowrule = tag +image, match:class ^(org.inkscape.Inkscape)$

# Ignore maximize requests from apps. You'll probably like this.
windowrule {
  name = suppressevent-maximize
  match:class = .*
  suppress_event = maximize
}

# Fix some dragging issues with XWayland
windowrule {
  name = xwayland_dragging
  match:xwayland = true
  match:class = ^$
  match:title = ^$
  match:float = true
  match:pin = false
  match:fullscreen_state_client = false
  no_focus = true
}

# Assign apps to workspaces
windowrule = workspace 1,match:class slack
windowrule = workspace 2,match:tag notes*
windowrule = workspace 3,match:tag terminal*
windowrule = workspace 4,match:tag browser*
windowrule = workspace 5,match:tag steam*
windowrule = workspace 5,match:tag almostgames*
windowrule = workspace 6 silent,match:tag reading*
windowrule = workspace 6 silent,match:tag image*

# Assign apps to floating windows
windowrule = float on, match:tag filemanager*
windowrule = size 60% 70%, match:tag filemanager*
windowrule = float on, match:tag portal*
windowrule = size 60% 70%, match:tag portal*
windowrule = float on, match:tag video*
windowrule = center on, match:tag video*
windowrule = size 60% 70%, match:tag video*
windowrule = float on, match:tag vnc*
windowrule = center on, match:tag vnc*
windowrule = size 60% 70%, match:tag vnc*
windowrule = float on, match:tag utility*
windowrule = size 50% 50%, match:tag utility*
windowrule = float on, match:tag viewers*
windowrule = size 80% 80%, match:tag viewers*
windowrule = size 50% 50%, match:tag popups*
windowrule = float on, match:tag popups*
windowrule = center on, match:tag popups*
windowrule = size 50% 50%, match:tag popups
windowrule = float on, match:tag popups
windowrule = center on, match:tag popups

# Steam games specific
windowrule = fullscreen on, match:tag games*
windowrule = opaque on, match:tag games*
windowrule = rounding 0, match:tag games*

# Layer rules
layerrule = blur on,match:namespace waybar
layerrule = ignore_alpha 0,match:namespace waybar
layerrule = order 1, match:namespace waybar
layerrule = dim_around on,match:namespace rofi
layerrule = blur on, match:namespace notifications
layerrule = ignore_alpha 0, match:namespace notifications
layerrule = order 0, match:namespace notifications

# Opacity
windowrule = opacity 0.95 0.7, match:tag browser*
windowrule = opacity 0.95 0.7, match:tag terminal*
windowrule = opacity 1.0 override 1.0 override,match:tag content*
windowrule = opacity 0.95 0.7, match:tag notes*
windowrule = opacity 0.95 0.7, match:tag reading*
windowrule = opacity 1.0 override 1.0 override,match:tag viewers*

# Focus
windowrule = stay_focused on, match:tag utility*
windowrule = stay_focused on, match:tag portal*
windowrule = stay_focused on, match:tag applauncher*
windowrule = focus_on_activate on, match:tag video*
windowrule = focus_on_activate on, match:tag filemanager*

# Idle
windowrule = idle_inhibit always, match:tag games*

# Dim
windowrule = dim_around on, match:tag utility*
windowrule = dim_around on, match:tag vnc*
windowrule = dim_around on, match:tag portal*
windowrule = dim_around on, match:tag filemanager*
windowrule = dim_around on, match:tag video*
